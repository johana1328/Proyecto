<html lang="es" xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:with="http://www.thymeleaf.org/extras/with"
	layout:decorate="~{layout}"
	th:with="funcionalidad='Administraci&oacuten', evento='Solicitud de personal'">
<th:block layout:fragment="content">

<!-- Mensajes -->


<a type="button"
	th:href="@{/administracion/solicitud/crear}" class="btn btn-primary  ">  Crear Solicitud de personal
	</a>
	

 <table id="tablaSolicitud" class="table table-bordered table-hover ">
     	<thead>
        	<tr>
            	<th>Estado</th>
            	<th>Fecha Solicitud</th>
            	<th>Vacantes</th>
            	<th>Cliente</th>
            	<th>Perfil</th>
                 <th sec:authorize="hasAnyAuthority('GERENTE')" >Gestor</th>
                 <th sec:authorize="hasAnyAuthority('ANALISTA_RRHH','GERENTE_RRHH')">Solicitante</th>
                
                <th width="70px">Acciones</th>
            </tr>
        </thead>
        <tbody>
         	<tr th:each="solicitud : ${solicitudes}">
         		<td th:text="${solicitud.estado.value}">Estado</td>
         		<td th:text="${#dates.format(solicitud.fechaCreacion, 'dd-MMM-yyyy')}">Fecha</td>
         		<td th:text="${solicitud.cantidadVacante}">Vacantes</td>
         		<td th:text="${solicitud.cliente}">Cliente</td>
         		<td th:text="${solicitud.perfil.nombre}">Perfil</td>
        	    <th sec:authorize="hasAnyAuthority('GERENTE')" >Juan</th>
                <th sec:authorize="hasAnyAuthority('ANALISTA_RRHH','GERENTE_RRHH')">Mario</th>
         		<td>
         		
         			<a type="button"
					th:href="@{/administracion/usuario/modificar}"
					class="btn btn-primary  "> <i class="fas fa-pen"></i>
				</a>
				
         		</td>
         	</tr>
        </tbody>
     </table> 
     <form id="changeStade" th:action="@{/administracion/usuario/modificar}" method="post" >
     </form>
 </th:block>
 <th:block layout:fragment="body_end">
    <script type="text/javascript">
    
    
    $('#tablaSolicitud').DataTable({
        "paging": true,
        "lengthChange": false,
        "searching": false,
        "ordering": true,
        "info": true,
        "autoWidth": false,
        "responsive": true,
      });
    </script>
</th:block>
 </html> 